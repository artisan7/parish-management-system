{% extends 'sacrament/side_bar.html' %} 
{% load static %} 
{% block header %} Marriage Application {% endblock%} 
{% load crispy_forms_tags %}
{% load widget_tweaks %}

{% block container%}

<form url="{% url 'sacrament:add-marriage-application' %}" method="POST">
    {% csrf_token %}
    <!---->
    {% comment %} {{ GroomModelForm.media }} {% endcomment %}
    
    <input type="hidden" id="groom_ID" name="groom_ID" value="" >
    <input type="hidden" id="bride_ID" name="bride_ID" value="" >

    <button class="btn btn-secondary application-button application-button" type="button" data-toggle="collapse" data-target="#groom-info" aria-expanded="false" aria-controls="groom-info">
    Groom
    </button>

    <div class="collapse show" id="groom-info">
    <div class="card card-body">

    <div class="row mt-1">
        <div class="col-4 offset-md-4">
            <label for="groom_existing">Search</label><br/>
            <select class="form-control" id="groom_existing">
            <option></option>
            </select>
        </div>
    </div>
    <hr/>
        <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  GroomModelForm.first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  GroomModelForm.middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  GroomModelForm.last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  GroomModelForm.suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>

    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">Gender</label>
            {% render_field  GroomModelForm.gender autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Birthdate</label>
            {% render_field  GroomModelForm.birthdate autocomplete="off" class+="form-control form-control-sm" placeholder="Birthdate" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Birth place</label>
            {% render_field  GroomModelForm.birthplace autocomplete="off" class+="form-control form-control-sm" placeholder="Birth place" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Residence</label>
            {% render_field  GroomModelForm.residence autocomplete="off" class+="form-control form-control-sm" placeholder="Residence" %}
        </div>
    </div>
    </div>
    </div>
    <hr/>
    
    <button class="btn btn-secondary application-button" type="button" data-toggle="collapse" data-target="#groom-parent-info" aria-expanded="false" aria-controls="groom-parent-info">
    Groom's Parents
    </button>

    <div class="collapse show" id="groom-parent-info">
    <div class="card card-body">
    Father
    <hr/>
    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  MarriageModelForm.groom_father_first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  MarriageModelForm.groom_father_middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  MarriageModelForm.groom_father_last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  MarriageModelForm.groom_father_suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>
    <hr/>
    Mother
    <hr/>
    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  MarriageModelForm.groom_mother_first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  MarriageModelForm.groom_mother_middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  MarriageModelForm.groom_mother_last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  MarriageModelForm.groom_mother_suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>
    </div>
    </div>
    <hr/>

    <button class="btn btn-secondary application-button" type="button" data-toggle="collapse" data-target="#bride-info" aria-expanded="false" aria-controls="bride-info">
    Bride
    </button>
    <div class="collapse show" id="bride-info">
    <div class="card card-body">

    <div class="row mt-1">
        <div class="col-4 offset-md-4">
            <label for="bride_existing">Search</label><br/>
            <select class="form-control" id="bride_existing">
            </select>
        </div>
    </div>
    <hr/>
    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  BrideModelForm.first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  BrideModelForm.middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  BrideModelForm.last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  BrideModelForm.suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>

    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">Gender</label>
            {% render_field  BrideModelForm.gender autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Birthdate</label>
            {% render_field  BrideModelForm.birthdate autocomplete="off" class+="form-control form-control-sm" placeholder="Birthdate" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Birth place</label>
            {% render_field  BrideModelForm.birthplace autocomplete="off" class+="form-control form-control-sm" placeholder="Birth place" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Residence</label>
            {% render_field  BrideModelForm.residence autocomplete="off" class+="form-control form-control-sm" placeholder="Residence" %}
        </div>
    </div>
    </div>
    </div>

    <hr/>

    <button class="btn btn-secondary application-button" type="button" data-toggle="collapse" data-target="#bride-parent-info" aria-expanded="false" aria-controls="bride-parent-info">
    Bride's Parents
    </button>
    <div class="collapse show" id="bride-parent-info">
    <div class="card card-body">
    Father
    <hr/>
    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  MarriageModelForm.bride_father_first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  MarriageModelForm.bride_father_middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  MarriageModelForm.bride_father_last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  MarriageModelForm.bride_father_suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>
    <hr/>
    Mother
    <hr/>
    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">First name</label>
            {% render_field  MarriageModelForm.bride_mother_first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-3">
            <label for="input-middle-name">Middle name</label>
            {% render_field  MarriageModelForm.bride_mother_middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Last name</label>
            {% render_field  MarriageModelForm.bride_mother_last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-3">
            <label for="input-last-name">Suffix</label>
            {% render_field  MarriageModelForm.bride_mother_suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
    </div>
    </div>
    </div>

    <hr/>
    <button class="btn btn-secondary application-button" type="button" data-toggle="collapse" data-target="#sponsor-info" aria-expanded="false" aria-controls="sponsor-info">
    Sponsors
    </button>
    <div class="collapse show" id="sponsor-info">
    <div class="card card-body">
    {% if SponsorError %}
        <div class="error-msg">
            <hr/>
            {{ SponsorError }}
            <hr/>
    </div>
    {% endif %}
    {% for form in SponsorFormset.forms %}
    <div class="dynamic-form row">
        <div class="col-2">
        <label for="input-first-name">First name</label>
            {% render_field  form.first_name autocomplete="off" class+="form-control form-control-sm" placeholder="First name" %}
        </div>
        <div class="col-2">
            <label for="input-middle-name">Middle name</label>
            {% render_field  form.middle_name autocomplete="off" class+="form-control form-control-sm" placeholder="Middle name" %}
        </div>
        <div class="col-2">
            <label for="input-last-name">Last name</label>
            {% render_field  form.last_name autocomplete="off" class+="form-control form-control-sm" placeholder="Last name" %}
        </div>
        <div class="col-2">
            <label for="input-last-name">Suffix</label>
            {% render_field  form.suffix autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
        <div class="col-2">
            <label for="input-last-name">Residence</label>
            {% render_field  form.residence autocomplete="off" class+="form-control form-control-sm" placeholder="Suffix" %}
        </div>
        <div class="col-2">
            <a id="remove-{{ form.prefix }}-row" href="javascript:void(0)" class="delete-row btn btn-danger button-fill" role="button">Delete</a>
        </div>
    </div>
    {% endfor %}
    <div class="row">
        <div class="col-2">
            <a href="javascript:void(0)" class="add-row btn btn-primary" role="button">ADD SPONSOR</a>
        </div> 
    </div>
    	    
    {{ SponsorFormset.management_form }}
    </div>
    </div>
    <hr/>

    <div class="row mt-1">
        <div class="col-3">
            <label for="input-first-name">Minister</label>
            <select class="form-control minister-dropdown" id="input-minister" name="marriage-minister" required>
            </select>
        </div>
    </div>
    
    <hr/>
    <div class="row mt-1">
        <div class="col">
            <label for="input-first-name">OR number</label>
            {% render_field  InvoiceModelForm_Application.or_number autocomplete="off" class+="form-control form-control-sm" placeholder="OR number" %}
        </div>
        <div class="col">
            <label for="input-middle-name">Recieved by</label>
            {% render_field  InvoiceModelForm_Application.received_by autocomplete="off" class+="form-control form-control-sm" placeholder="Recieved by" %}
        </div>
        <div class="col">
            <label for="input-last-name">Balance</label>
            {% render_field  InvoiceItemModelForm_Application.balance autocomplete="off" class+="form-control form-control-sm" placeholder="Balance" %}
        </div>
        <div class="col">
            <label for="input-last-name">Amount paid</label>
            {% render_field  InvoiceItemModelForm_Application.amount_paid autocomplete="off" class+="form-control form-control-sm" placeholder="Amount paid" %}
        </div>
        <div class="col">
            <label for="input-last-name">Discount</label>
            {% render_field  InvoiceItemModelForm_Application.discount autocomplete="off" class+="form-control form-control-sm" placeholder="Amount paid" %}
        </div>
    </div>

    {{ field.errors }}
    <hr/>
    {% crispy Submit_Form %}
    </form>

{% endblock %}
{% block js %}
<script src="{% static 'js/sacrament/application.js' %}"></script>
{% endblock %}